<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Recall WI — Oficial (Cael Theme)</title>
<style>
  :root{
    --bg:#0f1114; --panel:#15181b; --muted:#9aa4ad; --accent:#00d1ff;
    --gold:#ffd700; --purple:#a44bff; --orange:#ff7b00;
    --card:#1b1f23; --glass: rgba(255,255,255,0.03); --text:#e9eef2;
    --cael-bg-start:#0b0710;
    --cael-bg-end:#1b0830;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
    color:var(--text); background:linear-gradient(180deg,var(--cael-bg-start),var(--cael-bg-end));
    min-height:100vh; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    transition: background 450ms ease, color 350ms ease;
  }
  header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.12));border-bottom:1px solid rgba(255,255,255,0.03);position:sticky;top:0;z-index:40}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,#ffd700,#ff8a00);display:flex;align-items:center;justify-content:center;font-weight:900;color:#021;font-size:22px;box-shadow:0 10px 40px rgba(0,0,0,0.5)}
  nav{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .navbtn{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text);cursor:pointer;font-weight:700}
  .navbtn.active{outline:2px solid var(--gold); box-shadow:0 6px 18px rgba(0,0,0,0.35)}
  .controls{display:flex;gap:8px;align-items:center}
  main{padding:20px;max-width:1180px;margin:18px auto}
  .panel{background:var(--panel);border-radius:14px;padding:18px;margin-bottom:18px;border:1px solid rgba(255,255,255,0.02);box-shadow:0 12px 40px rgba(0,0,0,0.5)}
  .group-title{font-size:18px;color:var(--gold);margin-bottom:10px;font-weight:900}
  .small{font-size:13px;color:var(--muted)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}
  .card{background:var(--card);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .char-name{display:flex;justify-content:space-between;align-items:center;gap:8px;cursor:pointer;padding:8px;border-radius:8px}
  .char-name:hover{background:rgba(255,255,255,0.02)}
  .char-ability{display:none;margin-top:10px;padding:12px;background:rgba(0,0,0,0.06);border-radius:8px}
  .tag{padding:6px 8px;border-radius:8px;font-weight:800;font-size:12px}
  .comum{background:rgba(255,255,255,0.03);color:#ddd}
  .raro{background:rgba(0,123,255,0.06);color:var(--accent)}
  .epico{background:rgba(164,75,255,0.06);color:var(--purple)}
  .lendario{background:linear-gradient(90deg,#ffd70020,#ff9a0020);color:var(--gold)}
  .shop-line{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px}
  .old-price{text-decoration:line-through;color:#ffb3a3;margin-right:8px;font-size:13px}
  .new-price{color:var(--gold);font-weight:900}
  table{width:100%;border-collapse:collapse}
  th,td{padding:10px;border:1px solid rgba(255,255,255,0.03);text-align:left}
  th{background:rgba(255,255,255,0.02)}
  .hidden{display:none}
  .btn{padding:8px 12px;border-radius:10px;border:none;background:var(--gold);color:#021;font-weight:800;cursor:pointer}
  .danger{background:#ff6b6b;color:#fff}
  .hero-banner{border-radius:12px;padding:18px;margin-bottom:12px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); display:flex;align-items:center;justify-content:space-between;gap:12px}
  .hero-left{max-width:70%}
  .hero-title{font-size:22px;font-weight:900;color:var(--gold)}
  .hero-desc{color:var(--muted);font-size:13px;margin-top:6px}
  .event-pill{padding:6px 10px;border-radius:8px;font-weight:800;background:rgba(255,255,255,0.03)}
  .trio-list{list-style:none;padding-left:0;margin:0}
  .trio-list li{padding:6px 0}
  @media (max-width:820px){ .hero-left{max-width:100%} main{padding:12px} header{flex-direction:column;gap:8px;align-items:flex-start} }
</style>
</head>
<body data-theme="dark">
<header>
  <div class="brand">
    <div class="logo" id="logoBox">CAEL</div>
    <div>
      <h1 style="margin:0">Recall WI</h1>
      <div class="small">Tudo que você precisa saber do Recall — Tema: Cael</div>
    </div>
  </div>

  <nav aria-label="Navegação principal">
    <button class="navbtn active" data-section="characters">Personagens</button>
    <button class="navbtn" data-section="shop">Loja</button>
    <button class="navbtn" data-section="money">Economia</button>
    <button class="navbtn" data-section="tracker">Lista secreta</button>
    <button class="navbtn" data-section="trios">Tríades</button>
    <button class="navbtn" data-section="updates">Atualizações</button>
  </nav>

  <div class="controls">
    <button id="themeBtn" class="navbtn">Mudar tema</button>
  </div>
</header>

<main>
  <div class="hero-banner panel" id="hero">
    <div class="hero-left">
      <div class="hero-title">Recall WI — Tema: Cael</div>
      <div class="hero-desc">Este index está focado no tema do Cael (efeitos visuais e badge). Não há painel de eventos público — controle manual removido.</div>
    </div>
    <div style="text-align:right">
      <div id="activeEventLabel" class="event-pill">Cael Active</div>
      <div class="notice" id="activeEventInfo">Visuais aplicados: logo dourada, fundo temporal.</div>
    </div>
  </div>

  <!-- Characters -->
  <section id="characters" class="panel"></section>

  <!-- Shop -->
  <section id="shop" class="panel hidden"></section>

  <!-- Money -->
  <section id="money" class="panel hidden">
    <div class="group-title">Como ganhar Essence</div>
    <div class="small">Ações e recompensas</div>
    <table style="margin-top:10px">
      <thead><tr><th>Ação</th><th>Essence</th></tr></thead>
      <tbody id="moneyTableBody"></tbody>
    </table>
  </section>

  <!-- Tracker -->
  <section id="tracker" class="panel hidden"></section>

  <!-- Trios -->
  <section id="trios" class="panel hidden">
    <div class="group-title">Tríades</div>
    <div class="small">Cada personagem pertence a uma tríade — ??? indica vaga.</div>
    <div id="trioGrid" class="grid" style="margin-top:12px"></div>
  </section>

  <!-- Updates -->
  <section id="updates" class="panel hidden"></section>
</main>

<footer style="position:relative">Recall WI — Tema Cael aplicado. Painel de eventos removido para esta versão pública.</footer>

<script>
/* -------------------------------------------------------
   Versão limpa: removido painel público de eventos.
   - Cael tema aplicado no load.
   - Cael convertido para LENDÁRIO.
   - JavaScript roda somente após DOMContentLoaded.
   - Botões de navegação e conteúdo funcionais.
   ------------------------------------------------------- */

document.addEventListener('DOMContentLoaded', () => {
  /* ---------- DATA (ajustes finais) ---------- */
  const characters = [
    {key:"Seraphina", display:"Seraphina — The Healer", type:"Sobrevivente", rarity:"comum", oldPrice:200, price:0, ability:"Revive 1 jogador eliminado (1x).", phraseEN:"Rise again!", phrasePT:"Levante-se de novo!"},
    {key:"Nyra", display:"Nyra — The Swift", type:"Sobrevivente", rarity:"comum", oldPrice:200, price:0, ability:"Escapa de 1 captura (1x).", phraseEN:"Too fast for you!", phrasePT:"Rápida demais pra você!"},
    {key:"Gideon", display:"Gideon — The Guardian", type:"Sobrevivente", rarity:"raro", oldPrice:1000, price:500, ability:"Protege alguém de 1 ataque (escudo 10s).", phraseEN:"Stay behind me!", phrasePT:"Fiquem atrás de mim!"},
    {key:"Aether", display:"Aether — The Watcher", type:"Sobrevivente", rarity:"raro", oldPrice:1000, price:500, ability:"Pergunta ao assassino o próximo alvo (1x).", phraseEN:"Who’s your next target?", phrasePT:"Qual é o seu próximo alvo?"},
    {key:"Elara", display:"Elara — The Strategist", type:"Sobrevivente", rarity:"epico", oldPrice:1600, price:900, ability:"Pode correr duas vezes seguidas sem ser pega (1x).", phraseEN:"Double move!", phrasePT:"Movimento duplo!"},
    {key:"Orion", display:"Orion — The Illusionist", type:"Sobrevivente", rarity:"epico", oldPrice:1700, price:950, ability:"Diz 'Illusion!' → assassino deve perseguir outro alvo por 10s (1x).", phraseEN:"Can you catch a shadow of me?", phrasePT:"Consegue pegar só minha sombra?"},
    {key:"Liora", display:"Liora — The Veiled", type:"Sobrevivente", rarity:"lendario", oldPrice:2600, price:1500, ability:"Faz assassino contar 8s parado (1x).", phraseEN:"Now you forget me…", phrasePT:"Agora você me esquece…"},
    {key:"Marin", display:"Marin — The Timebinder", type:"Sobrevivente", rarity:"lendario", oldPrice:2700, price:1600, ability:"Ativa 'Time Snare': assassino NÃO PODE CORRER 5s (1x).", phraseEN:"Slow down, time obeys me!", phrasePT:"Diminua, o tempo me obedece!"},
    // Cael agora LENDÁRIO (ajustado)
    {key:"Cael", display:"Cael — The Defier", type:"Sobrevivente", rarity:"lendario", oldPrice:2200, price:1500, ability:"Ao ser alvo: assassino NÃO PODE ATACAR por 2s e NÃO PODE CORRER por 8s (1x).", phraseEN:"Your turn to run.", phrasePT:"Agora é você quem corre."},
    {key:"Umbra", display:"Umbra — The Shadow", type:"Assassino", rarity:"comum", oldPrice:400, price:200, ability:"Habilidade ativa somente se tentar pegar e falhar (1x).", phraseEN:"Shadow strike!", phrasePT:"Golpe das sombras!"},
    {key:"Darius", display:"Darius — The Hunter", type:"Assassino", rarity:"raro", oldPrice:800, price:500, ability:"Marked: bloqueia habilidades do alvo por 15s (1x).", phraseEN:"Marked!", phrasePT:"Marcado!"},
    {key:"Echo", display:"Echo — The Returned", type:"Assassino", rarity:"epico", oldPrice:1800, price:950, ability:"Anula 1 poder usado contra ele (1x).", phraseEN:"Echo!", phrasePT:"Eco!"},
    {key:"Requiem", display:"Requiem — The Reaper", type:"Assassino", rarity:"lendario", oldPrice:3000, price:1600, ability:"Local da morte se torna letal por 15s (1x).", phraseEN:"Death remains...", phrasePT:"A morte permanece..."}
  ];

  const moneyTable = [
    {action:"Sobrevive até o fim", value:"+50E"},
    {action:"Revive alguém", value:"+25E"},
    {action:"Usa habilidade com sucesso", value:"+20E"},
    {action:"Morre antes de 2min", value:"+10E"},
    {action:"Morre depois de 2min", value:"+30E"},
    {action:"Assassino elimina alguém", value:"+20E"},
    {action:"Assassino vence partida", value:"+100E"},
    {action:"Respeita as regras", value:"+5E"},
    {action:"Melhor da rodada", value:"+25E"}
  ];

  const trios = [
    {title:"Tríade da Vida", desc:"Cura, proteção e resiliência", members:["Seraphina","Gideon","Requiem"]},
    {title:"Tríade da Mente", desc:"Observação, estratégia e previsão", members:["Aether","Elara","Orion"]},
    {title:"Tríade da Velocidade", desc:"Movimento, reflexo e precisão", members:["Nyra","Echo","Darius"]},
    {title:"Tríade das Sombras", desc:"Engano, resistência e retribuição (Mestre do Umbra chegando)", members:["Umbra","Liora","???"]},
    {title:"Tríade do Tempo", desc:"Controle temporal e manipulação", members:["Marin","Cael","Orion"]}
  ];

  /* ---------- HELPERS ---------- */
  function $(sel){return document.querySelector(sel)}
  function $all(sel){return Array.from(document.querySelectorAll(sel))}

  /* NAV wiring */
  $all('.navbtn').forEach(btn=>{
    btn.addEventListener('click', ()=> {
      $all('.navbtn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      const sec = btn.getAttribute('data-section');
      showSection(sec);
    });
  });
  function showSection(id){
    ['characters','shop','money','tracker','trios','updates'].forEach(s=>{
      const el = document.getElementById(s);
      if(!el) return;
      el.classList.toggle('hidden', s !== id);
    });
    if(id === 'characters') renderCharacters();
    if(id === 'shop') renderShop();
    if(id === 'money') renderMoney();
    if(id === 'tracker') renderTracker();
    if(id === 'trios') renderTrios();
    if(id === 'updates') renderUpdates();
  }

  /* ---------- RENDER FUNCTIONS ---------- */
  function renderCharacters(){
    const container = $('#characters');
    container.innerHTML = '<div class="group-title">Personagens</div><div class="small">Clique no cartão para ver habilidade e falas (EN / PT)</div><div class="grid" id="charactersGrid" style="margin-top:12px"></div>';
    const grid = $('#charactersGrid');
    grid.innerHTML = '';
    const survivors = characters.filter(c=>c.type === "Sobrevivente");
    const killers = characters.filter(c=>c.type === "Assassino");

    if(survivors.length){
      const block = document.createElement('div'); block.className='card'; block.style.gridColumn = '1 / -1';
      block.innerHTML = `<div style="font-weight:900">Sobreviventes</div><div class="small" style="margin-top:6px">Personagens que defendem e ajudam.</div>`;
      grid.appendChild(block);
      survivors.forEach(ch=> grid.appendChild(createCharCard(ch)));
    }
    if(killers.length){
      const block = document.createElement('div'); block.className='card'; block.style.gridColumn = '1 / -1';
      block.innerHTML = `<div style="font-weight:900">Assassinos</div><div class="small" style="margin-top:6px">Personagens cujo objetivo é caçar.</div>`;
      grid.appendChild(block);
      killers.forEach(ch=> grid.appendChild(createCharCard(ch)));
    }
  }

  function createCharCard(ch){
    const card = document.createElement('div'); card.className = 'card';
    const header = document.createElement('div'); header.className = 'char-name';
    header.innerHTML = `<div style="font-weight:800">${ch.display}</div><div class="small"><span class="tag ${ch.rarity}">${ch.rarity.toUpperCase()}</span> • ${ch.type}</div>`;
    const ability = document.createElement('div'); ability.className = 'char-ability';
    ability.innerHTML = `<strong>Habilidade:</strong> ${ch.ability}<br><strong>EN:</strong> ${ch.phraseEN} &nbsp; <strong>PT:</strong> ${ch.phrasePT}`;
    header.addEventListener('click', ()=> ability.classList.toggle('hidden'));
    card.appendChild(header); card.appendChild(ability);
    return card;
  }

  function renderShop(){
    const area = $('#shop'); area.innerHTML = '<div class="group-title">Loja</div><div class="small">Preços antigos riscados → preço atual (promoções aplicadas quando houver)</div>';
    const grid = document.createElement('div'); grid.className = 'grid';
    characters.forEach(ch=>{
      const c = document.createElement('div'); c.className = 'card';
      // no global discounts here; just show oldPrice and current price
      const displayPrice = ch.price;
      const old = ch.oldPrice || '';
      c.innerHTML = `<div style="font-weight:900">${ch.display}</div>
        <div class="small">${ch.type} • <span class="tag ${ch.rarity}">${ch.rarity.toUpperCase()}</span></div>
        <div style="margin-top:8px">${ch.ability}</div>
        <div style="margin-top:12px" class="shop-line"><div><span class="old-price">${old ? old + 'E' : ''}</span><span class="new-price">${displayPrice}E</span></div></div>`;
      grid.appendChild(c);
    });
    area.appendChild(grid);
  }

  function renderMoney(){
    const tbody = $('#moneyTableBody'); tbody.innerHTML = '';
    moneyTable.forEach(row=>{
      const tr = document.createElement('tr'); tr.innerHTML = `<td>${row.action}</td><td>${row.value}</td>`;
      tbody.appendChild(tr);
    });
  }

  /* TRACKER (protected locally) */
  let players = JSON.parse(localStorage.getItem('recall_players') || '[]');
  function renderTracker(){
    const area = $('#tracker');
    area.innerHTML = '<div class="group-title">Lista secreta — Controle de Personagens</div><div class="small">Protegido localmente (apenas aqui). Clique em "Entrar" para mostrar a lista.</div><div id="trackerArea" style="margin-top:12px"><div id="loginDiv"><p class="small">Clique em Entrar para acessar (sem senha nesta build)</p><button id="trackerLogin" class="btn">Entrar</button></div><div id="trackerContent" class="hidden" style="margin-top:12px"><div style="overflow:auto"><table id="playerTable"><thead><tr id="playerHeader"><th>Jogador</th></tr></thead><tbody id="playerBody"></tbody></table></div><div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap"><button id="addPlayer" class="btn">Adicionar Jogador</button><button id="clearPlayers" class="btn">Limpar lista</button><button id="exportPlayers" class="btn danger">Exportar (JSON)</button></div></div></div>';
    buildPlayerHeader();
    document.getElementById('trackerLogin').addEventListener('click', ()=> {
      document.getElementById('loginDiv').style.display = 'none';
      document.getElementById('trackerContent').classList.remove('hidden');
      renderTable();
    });
    document.getElementById('addPlayer').addEventListener('click', ()=> {
      const name = prompt('Nome do jogador:'); if(!name) return;
      players.push({name, characters:{}}); localStorage.setItem('recall_players', JSON.stringify(players)); renderTable();
    });
    document.getElementById('clearPlayers').addEventListener('click', ()=> {
      if(confirm('Limpar toda a lista local?')){ players=[]; localStorage.setItem('recall_players', JSON.stringify(players)); renderTable(); }
    });
    document.querySelector('.btn.danger')?.addEventListener('click', ()=> {
      const data = JSON.stringify(players,null,2); const blob = new Blob([data],{type:'application/json'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'recall_players.json'; a.click(); URL.revokeObjectURL(url);
    });
  }
  function buildPlayerHeader(){
    const header = document.getElementById('playerHeader'); header.innerHTML = '<th>Jogador</th>';
    characters.forEach(c=> { const th = document.createElement('th'); th.textContent = c.key; header.appendChild(th); });
  }
  function renderTable(){
    const tbody = document.getElementById('playerBody'); tbody.innerHTML = '';
    players.forEach((p, idx)=>{
      const tr = document.createElement('tr');
      const tdName = document.createElement('td'); tdName.textContent = p.name; tr.appendChild(tdName);
      characters.forEach(ch=>{
        const td = document.createElement('td'); const cb = document.createElement('input'); cb.type='checkbox'; cb.checked = !!p.characters[ch.key];
        cb.addEventListener('change', ()=> { players[idx].characters[ch.key] = cb.checked; localStorage.setItem('recall_players', JSON.stringify(players));});
        td.appendChild(cb); tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });
  }

  /* TRIOS */
  function renderTrios(){
    const grid = $('#trioGrid'); grid.innerHTML = '';
    trios.forEach(t=>{
      const card = document.createElement('div'); card.className = 'card';
      const list = t.members.map(m=> `<li>${m}</li>`).join('');
      card.innerHTML = `<div style="font-weight:900">${t.title}</div><div class="small">${t.desc}</div><div style="margin-top:8px"><ul class="trio-list">${list}</ul></div>`;
      grid.appendChild(card);
    });
  }

  /* UPDATES */
  function renderUpdates(){
    const area = $('#updates'); area.innerHTML = '<div class="group-title">Atualizações</div>';
    const list = [
      {title:"V1.3 — Cael Theme", desc:"Cael promovido a LENDÁRIO; tema Cael aplicado; painel de eventos removido desta build pública."},
      {title:"V1.2", desc:"Adicionado Liora, Marin e Requiem; melhorias no tracker."},
      {title:"V1.0", desc:"Versão inicial do Recall WI."}
    ];
    list.forEach(u=>{ const block = document.createElement('div'); block.className='card'; block.innerHTML = `<div style="font-weight:900">${u.title}</div><div class="small" style="margin-top:8px">${u.desc}</div>`; area.appendChild(block); });
  }

  /* Theme toggle (simple) */
  $('#themeBtn').addEventListener('click', ()=>{
    const cur = document.body.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
    document.body.setAttribute('data-theme', cur);
    // simple palette swap for demo: invert hero background and logo colors
    if(cur === 'light'){
      document.body.style.background = 'linear-gradient(180deg,#f6f7fb,#e8eefc)';
      $('#logoBox').style.background = 'linear-gradient(135deg,#d1b000,#6b3a99)';
      document.querySelectorAll('.card').forEach(c=> c.style.background = '#ffffff');
    } else {
      document.body.style.background = 'linear-gradient(180deg,var(--cael-bg-start),var(--cael-bg-end))';
      $('#logoBox').style.background = 'linear-gradient(135deg,#ffd700,#ff8a00)';
      document.querySelectorAll('.card').forEach(c=> c.style.background = 'var(--card)');
    }
  });

  /* ---------- INIT ---------- */
  function init(){
    renderCharacters(); renderShop(); renderMoney(); renderTrios(); renderUpdates();
    // money table
    const tbody = document.getElementById('moneyTableBody'); tbody.innerHTML='';
    moneyTable.forEach(r=>{ const tr = document.createElement('tr'); tr.innerHTML = `<td>${r.action}</td><td>${r.value}</td>`; tbody.appendChild(tr); });
    // set active "Cael" visuals already applied via CSS root; keep header badge
    document.getElementById('activeEventLabel').textContent = 'Cael Theme';
    document.getElementById('activeEventInfo').textContent = 'Cael visuals applied: golden logo, temporal background.';
    // nav default
    showSection('characters');
  }
  init();
});
</script>
</body>
</html>

</html>

