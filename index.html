<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Recall WI</title>
<style>
  :root{
    --bg:#0f1114;
    --panel:#15181b;
    --muted:#9aa4ad;
    --accent:#00d1ff;
    --gold:#ffd700;
    --purple:#a44bff;
    --blue:#2196f3;
    --card:#1b1f23;
    --glass: rgba(255,255,255,0.03);
    --success:#4caf50;
    --danger:#ff6b6b;
    --text:#e9eef2;
  }

  [data-theme="light"]{
    --bg:#f5f7fa;
    --panel:#ffffff;
    --muted:#4b5563;
    --accent:#0b84ff;
    --gold:#b8860b;
    --purple:#6b21a8;
    --blue:#0b79d0;
    --card:#ffffff;
    --glass: rgba(0,0,0,0.03);
    --success:#087f23;
    --danger:#c23b3b;
    --text:#0b1220;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    min-height:100vh;
  }

  header{
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    padding:18px 22px;
    background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.005));
    border-bottom:1px solid rgba(255,255,255,0.03);
    position:sticky;
    top:0;
    z-index:50;
  }

  .brand{
    display:flex;
    gap:12px;
    align-items:center;
  }
  .logo{
    width:44px;height:44px;border-radius:8px;
    background:linear-gradient(135deg,var(--accent),var(--purple));
    display:flex;align-items:center;justify-content:center;font-weight:700;color:#021;
    box-shadow:0 6px 18px rgba(0,0,0,0.35);
    font-size:18px;
  }
  .title{
    line-height:1;
  }
  .title h1{margin:0;font-size:18px;}
  .title p{margin:0;font-size:12px;color:var(--muted);}

  nav{display:flex;gap:8px;align-items:center;}
  .navbtn{
    background:transparent;
    border:1px solid rgba(255,255,255,0.04);
    color:var(--text);
    padding:8px 10px;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
  }
  .navbtn:hover{transform:translateY(-2px)}
  .navbtn.active{outline:2px solid var(--accent); box-shadow:0 6px 18px rgba(0,0,0,0.4)}

  .controls{display:flex;gap:8px;align-items:center;}
  .themeToggle{
    padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04); cursor:pointer;background:transparent;
  }

  main{padding:22px; max-width:1100px;margin:0 auto;}

  .panel{
    background:var(--panel);
    border-radius:12px;
    padding:18px;
    margin-bottom:18px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.45);
  }

  .grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    gap:14px;
  }

  .card{
    background:var(--card);
    padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);
  }

  .group-title{font-size:18px;color:var(--accent);margin-bottom:10px;font-weight:700}
  .small{font-size:13px;color:var(--muted)}

  /* characters list */
  .char-name{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;cursor:pointer}
  .char-name:hover{background:var(--glass)}
  .char-ability{display:none;margin-top:8px;padding:8px;background:rgba(0,0,0,0.06);border-radius:8px}

  /* rarity tags */
  .tag{padding:6px 8px;border-radius:8px;font-weight:700;font-size:12px}
  .comum{background:rgba(128,128,128,0.12); color:gray;border:1px solid rgba(255,255,255,0.03)}
  .raro{background:rgba(0,123,255,0.08); color:var(--blue);border:1px solid rgba(0,120,255,0.08)}
  .epico{background:rgba(164,75,255,0.08); color:var(--purple);border:1px solid rgba(164,75,255,0.08)}
  .lendario{background:linear-gradient(90deg,#ffd70020,#ff9a0020); color:var(--gold);border:1px solid rgba(255,215,0,0.08)}

  /* shop list */
  .shop-line{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px}
  .shop-line:hover{background:var(--glass)}

  /* money table */
  table{width:100%;border-collapse:collapse}
  th,td{padding:10px;border:1px solid rgba(255,255,255,0.04);text-align:left}
  th{background:rgba(255,255,255,0.02);font-weight:700}

  /* tracker */
  #trackerArea{margin-top:8px}
  #playerTable{width:100%;border-collapse:collapse;font-size:13px}
  #playerTable th, #playerTable td{padding:8px;border:1px solid rgba(255,255,255,0.04);text-align:center}
  #playerTable th{background:rgba(255,255,255,0.02)}
  .btn{padding:8px 10px;border-radius:8px;border: none;background:var(--accent);color:#021;font-weight:700;cursor:pointer}
  .danger{background:var(--danger); color:#fff}

  /* updates */
  .update-block{background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); padding:12px;border-radius:8px}
  .update-title{font-weight:800;color:var(--gold);margin-bottom:8px}
  .update-section{margin:6px 0}

  /* responsive */
  @media (max-width:720px){
    header{flex-direction:column;align-items:flex-start;gap:10px}
    .controls{width:100%;justify-content:space-between}
  }
</style>
</head>
<body data-theme="dark">
<header>
  <div class="brand">
    <div class="logo">RW</div>
    <div class="title">
      <h1>Recall WI</h1>
      <p class="small">Tudo que voc√™ precisa saber do Recall</p>
    </div>
  </div>

  <nav>
    <button class="navbtn active" data-section="characters" onclick="navTo(event)">Personagens</button>
    <button class="navbtn" data-section="shop" onclick="navTo(event)">Loja</button>
    <button class="navbtn" data-section="money" onclick="navTo(event)">Economia</button>
    <button class="navbtn" data-section="tracker" onclick="navTo(event)">Lista secreta</button>
    <button class="navbtn" data-section="updates" onclick="navTo(event)">Atualiza√ß√µes</button>
  </nav>

  <div class="controls">
    <button class="themeToggle" id="themeBtn" onclick="toggleTheme()">Mudar tema</button>
  </div>
</header>

<main>
  <!-- CHARACTERS -->
  <section id="characters" class="panel">
    <div class="group-title">Personagens</div>
    <div class="small">Clique no nome para ver habilidade e frase (EN / PT)</div>
    <div class="grid" id="charactersGrid" style="margin-top:12px"></div>
  </section>

  <!-- SHOP -->
  <section id="shop" class="panel hidden">
    <div class="group-title">Loja</div>
    <div class="small">Pre√ßos mostrados somente aqui. Agrupado por Tipo ‚Üí Raridade.</div>
    <div id="shopArea" style="margin-top:12px"></div>
  </section>

  <!-- MONEY -->
  <section id="money" class="panel hidden">
    <div class="group-title">Economia ‚Äì Como ganhar Essence</div>
    <div class="money-table panel" style="margin-top:10px">
      <table>
        <thead>
          <tr><th>üí• A√ß√£o</th><th>üí∏ Essence</th></tr>
        </thead>
        <tbody id="moneyTableBody">
          <!-- preenchido via JS -->
        </tbody>
      </table>
    </div>
  </section>

  <!-- TRACKER -->
  <section id="tracker" class="panel hidden">
    <div class="group-title">Lista secreta ‚Äî Controle de Personagens</div>
    <div class="small">A parte abaixo √© protegida por senha (s√≥ voc√™ altera). Senha: <strong>BATATA</strong></div>

    <div id="trackerArea" style="margin-top:12px">
      <div id="loginDiv">
        <p class="small">Digite a senha para acessar a lista:</p>
        <input type="password" id="trackerPass" placeholder="Senha" style="padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04)">
        <button class="btn" onclick="checkPassword()">Entrar</button>
      </div>

      <div id="trackerContent" style="display:none;margin-top:12px">
        <div style="overflow:auto">
          <table id="playerTable">
            <thead>
              <tr id="playerHeader"><th>Jogador</th></tr>
            </thead>
            <tbody id="playerBody"></tbody>
          </table>
        </div>
        <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn" onclick="addPlayer()">Adicionar Jogador</button>
          <button class="btn" onclick="clearPlayers()">Limpar lista</button>
          <button class="btn danger" onclick="exportPlayers()">Exportar (JSON)</button>
        </div>
      </div>
    </div>
  </section>

  <!-- UPDATES -->
  <section id="updates" class="panel hidden">
    <div class="group-title">Atualiza√ß√µes do Jogo</div>

    <div class="update-block" style="margin-top:10px">
      <div class="update-title">UPDATE 2 ‚Äî Rise of the Shadows</div>
      <div class="small">Nova vers√£o ‚Äî coisas importantes que chegaram no jogo.</div>

      <div class="update-section"><strong>NOVAS HABILIDADES</strong>
        <ul>
          <li>Marin: <em>Time Snare</em> ‚Äî ao ativar, o assassino n√£o pode correr por 5 segundos (1x por partida). EN: ‚ÄúSlow down, time obeys me!‚Äù / PT: ‚ÄúDiminua, o tempo me obedece!‚Äù</li>
          <li>Orion: habilidade <em>Illusion</em> corrigida ‚Äî ao dizer ‚ÄúIllusion!‚Äù, o assassino deve perseguir outro alvo por 10 segundos (1x).</li>
        </ul>
      </div>

      <div class="update-section"><strong>MELHORIAS NA LOJA</strong>
        <ul>
          <li>Novo design visual.</li>
          <li>Separa√ß√£o por Tipo e Raridade.</li>
        </ul>
      </div>

      <div class="update-section"><strong>CORRE√á√ïES GERAIS</strong>
        <ul>
          <li>Ajustes nas descri√ß√µes de personagens.</li>
          <li>Tradu√ß√µes EN/PT revisadas.</li>
        </ul>
      </div>
    </div>

  </section>
</main>

<script>
/* ---------- DATA ---------- */
const characters=[
  { key:"Seraphina", display:"Seraphina ‚Äî The Healer", type:"Sobrevivente", rarity:"comum", price:0,
    ability:"Revive 1 jogador eliminado (1x). O jogador revive sem poder.",
    phraseEN:"Rise again!", phrasePT:"Levante-se de novo!"
  },
  { key:"Nyra", display:"Nyra ‚Äî The Swift", type:"Sobrevivente", rarity:"comum", price:0,
    ability:"Escapa de 1 captura (1x).",
    phraseEN:"Too fast for you!", phrasePT:"R√°pida demais pra voc√™!"
  },
  { key:"Gideon", display:"Gideon ‚Äî The Guardian", type:"Sobrevivente", rarity:"raro", price:500,
    ability:"Protege algu√©m de 1 ataque (escudo de 10s). (1x).",
    phraseEN:"Stay behind me!", phrasePT:"Fiquem atr√°s de mim!"
  },
  { key:"Aether", display:"Aether ‚Äî The Watcher", type:"Sobrevivente", rarity:"raro", price:500,
    ability:"Pergunta ao assassino o pr√≥ximo alvo ‚Üí ele deve responder a verdade (1x).",
    phraseEN:"Who‚Äôs your next target?", phrasePT:"Qual √© o seu pr√≥ximo alvo?"
  },
  { key:"Elara", display:"Elara ‚Äî The Strategist", type:"Sobrevivente", rarity:"epico", price:900,
    ability:"Pode correr duas vezes seguidas sem ser pega (1x).",
    phraseEN:"Double move!", phrasePT:"Movimento duplo!"
  },
  { key:"Orion", display:"Orion ‚Äî The Illusionist", type:"Sobrevivente", rarity:"epico", price:950,
    ability:"Diz 'Illusion!' ‚Üí assassino deve perseguir outro alvo por 10s (1x).",
    phraseEN:"Can you catch a shadow of me?", phrasePT:"Consegue pegar s√≥ minha sombra?"
  },
  { key:"Liora", display:"Liora ‚Äî The Veiled", type:"Sobrevivente", rarity:"lendario", price:1500,
    ability:"Faz assassino contar 8s parado (1x). Se mover antes, penalidade do grupo.",
    phraseEN:"Now you forget me‚Ä¶", phrasePT:"Agora voc√™ me esquece‚Ä¶"
  },
  { key:"Marin", display:"Marin ‚Äî The Timebinder", type:"Sobrevivente", rarity:"lendario", price:1600,
    ability:"Ativa 'Time Snare': assassino N√ÉO PODE CORRER (pode andar/atacar) por 5s (1x).",
    phraseEN:"Slow down, time obeys me!", phrasePT:"Diminua, o tempo me obedece!"
  },

  { key:"Umbra", display:"Umbra ‚Äî The Shadow", type:"Assassino", rarity:"comum", price:0,
    ability:"Habilidade s√≥ ativa se tentar pegar algu√©m e falhar ‚Äî penalidade e cooldown (1x).",
    phraseEN:"Shadow strike!", phrasePT:"Golpe das sombras!"
  },
  { key:"Darius", display:"Darius ‚Äî The Hunter", type:"Assassino", rarity:"raro", price:500,
    ability:"Marked: bloqueia habilidades do alvo por 15s (1x).",
    phraseEN:"Marked!", phrasePT:"Marcado!"
  },
  { key:"Echo", display:"Echo ‚Äî The Returned", type:"Assassino", rarity:"epico", price:950,
    ability:"Anula 1 poder usado contra ele (1x).",
    phraseEN:"Echo!", phrasePT:"Eco!"
  },
  { key:"Requiem", display:"Requiem ‚Äî The Reaper", type:"Assassino", rarity:"lendario", price:1600,
    ability:"Local de morte se torna letal por 15s (1x).",
    phraseEN:"Death remains... even after me.", phrasePT:"A morte permanece... mesmo depois de mim."
  }
];

const moneyTable=[
  {action:"üßç Sobrevive at√© o fim", value:"+50E"},
  {action:"üíñ Revive algu√©m", value:"+25E"},
  {action:"‚ú® Usa habilidade com sucesso", value:"+20E"},
  {action:"üíÄ Morre antes de 2min", value:"+10E"},
  {action:"‚è≥ Morre depois de 2min", value:"+30E"},
  {action:"üî™ Assassino elimina algu√©m", value:"+20E"},
  {action:"ü©∏ Assassino vence partida", value:"+100E"},
  {action:"‚öñÔ∏è Respeita as regras", value:"+5E"},
  {action:"üèÜ Melhor da rodada", value:"+25E"}
];

/* ---------- UI HELPERS ---------- */
function $(sel){return document.querySelector(sel)}
function $all(sel){return Array.from(document.querySelectorAll(sel))}

/* ---------- THEME ---------- */
const themeBtn = document.getElementById('themeBtn');
function setTheme(t){
  document.body.setAttribute('data-theme', t==='light'?'light':'dark');
  localStorage.setItem('recall_theme', t);
}
function toggleTheme(){
  const cur = localStorage.getItem('recall_theme') || 'dark';
  setTheme(cur==='dark'?'light':'dark');
}
const savedTheme = localStorage.getItem('recall_theme') || 'dark';
setTheme(savedTheme);

/* ---------- NAV ---------- */
function navTo(ev){
  const btn = ev.currentTarget;
  const section = btn.dataset.section;
  $all('.navbtn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  showSection(section);
}
function showSection(id){
  ['characters','shop','money','tracker','updates'].forEach(s=>{
    const el = document.getElementById(s);
    if(!el) return;
    if(s===id){ el.classList.remove('hidden') } else { el.classList.add('hidden') }
  });
  if(id==='characters') renderCharacters();
  if(id==='shop') renderShop();
  if(id==='money') renderMoney();
  if(id==='tracker') renderTracker();
}

/* ---------- CHARACTERS ---------- */
function renderCharacters(){
  const container = document.getElementById('charactersGrid');
  container.innerHTML = '';
  characters.forEach(ch=>{
    const card = document.createElement('div'); card.className='card';
    const header = document.createElement('div'); header.className='char-name';
    const left = document.createElement('div');
    left.innerHTML = `<div style="font-weight:800">${ch.display}</div><div class="small">${ch.type} ‚Ä¢ ${ch.rarity.toUpperCase()}</div>`;
    const right = document.createElement('div');
    const tag = document.createElement('span');
    tag.className = `tag ${ch.rarity}`;
    tag.textContent = ch.rarity.toUpperCase();
    right.appendChild(tag);
    header.appendChild(left); header.appendChild(right);
    card.appendChild(header);

    const ability = document.createElement('div'); ability.className='char-ability';
    ability.innerHTML = `<strong>Habilidade:</strong> ${ch.ability}<br><strong>EN:</strong> ${ch.phraseEN} &nbsp; <strong>PT:</strong> ${ch.phrasePT}`;
    card.appendChild(ability);

    header.addEventListener('click', ()=> {
      ability.style.display = ability.style.display === 'block' ? 'none' : 'block';
    });

    container.appendChild(card);
  });
}

/* ---------- SHOP (group by type + rarity) ---------- */
function renderShop(){
  const area = document.getElementById('shopArea');
  area.innerHTML = '';
  const types = ["Sobrevivente","Assassino"];
  const rarities = ["comum","raro","epico","lendario"];
  types.forEach(type=>{
    rarities.forEach(r=>{
      const list = characters.filter(c=>c.type===type && c.rarity===r);
      if(list.length===0) return;
      const title = document.createElement('div'); title.className='group-title';
      title.textContent = `${type.toUpperCase()} ‚Äî ${r.toUpperCase()}`;
      area.appendChild(title);
      const box = document.createElement('div'); box.className='panel';
      list.forEach(c=>{
        const line = document.createElement('div'); line.className='shop-line';
        line.innerHTML = `<div style="display:flex;flex-direction:column">
          <div style="font-weight:800">${c.display}</div>
          <div class="small">${c.ability}</div>
        </div>
        <div style="text-align:right">
          <div class="small">Pre√ßo</div>
          <div style="font-weight:900;font-size:16px">${c.price}E</div>
          <div style="margin-top:6px"><span class="tag ${c.rarity}">${c.rarity.toUpperCase()}</span></div>
        </div>`;
        const info = document.createElement('div'); info.className='char-ability'; info.style.display='none';
        info.innerHTML = `<strong>Habilidade:</strong> ${c.ability}<br><strong>EN:</strong> ${c.phraseEN} &nbsp; <strong>PT:</strong> ${c.phrasePT}`;
        line.addEventListener('click', ()=> {
          info.style.display = info.style.display === 'block' ? 'none' : 'block';
        });
        box.appendChild(line);
        box.appendChild(info);
      });
      area.appendChild(box);
    });
  });
}

/* ---------- MONEY ---------- */
function renderMoney(){
  const tbody = document.getElementById('moneyTableBody');
  tbody.innerHTML = '';
  moneyTable.forEach(row=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${row.action}</td><td>${row.value}</td>`;
    tbody.appendChild(tr);
  });
}

/* ---------- TRACKER (protected) ---------- */
const TRACKER_PASSWORD = "BATATA";
let players = JSON.parse(localStorage.getItem('recall_players')) || [];

/* build header columns for tracker dynamically (characters keys) */
function buildPlayerHeader(){
  const header = document.getElementById('playerHeader');
  header.innerHTML = '<th>Jogador</th>';
  // show columns in desired order
  const cols = ["Seraphina","Nyra","Gideon","Aether","Elara","Orion","Liora","Marin","Umbra","Darius","Echo","Requiem"];
  cols.forEach(c=>{
    const th = document.createElement('th'); th.textContent = c; header.appendChild(th);
  });
}

function renderTracker(){
  buildPlayerHeader();
  // if already unlocked, show content, else show login
  const logged = document.getElementById('trackerContent').style.display === 'block';
  if(logged) renderTable();
}

function checkPassword(){
  const v = document.getElementById('trackerPass').value;
  if(v===TRACKER_PASSWORD){
    document.getElementById('loginDiv').style.display='none';
    document.getElementById('trackerContent').style.display='block';
    renderTable();
  } else {
    alert('Senha incorreta!');
  }
}

function renderTable(){
  const tbody = document.getElementById('playerBody');
  tbody.innerHTML = '';
  players.forEach((p, idx)=>{
    const tr = document.createElement('tr');
    const tdName = document.createElement('td'); tdName.textContent = p.name; tr.appendChild(tdName);
    const cols = ["Seraphina","Nyra","Gideon","Aether","Elara","Orion","Liora","Marin","Umbra","Darius","Echo","Requiem"];
    cols.forEach(key=>{
      const td = document.createElement('td');
      const cb = document.createElement('input'); cb.type='checkbox'; cb.checked = !!p.characters[key];
      cb.addEventListener('change', ()=>{
        players[idx].characters[key] = cb.checked;
        localStorage.setItem('recall_players', JSON.stringify(players));
      });
      td.appendChild(cb);
      tr.appendChild(td);
    });
    tbody.appendChild(tr);
  });
}

function addPlayer(){
  const name = prompt('Digite o nome do jogador:');
  if(!name) return;
  players.push({name:name, characters:{}});
  localStorage.setItem('recall_players', JSON.stringify(players));
  renderTable();
}

function clearPlayers(){
  if(!confirm('Limpar toda a lista local?')) return;
  players = [];
  localStorage.setItem('recall_players', JSON.stringify(players));
  renderTable();
}

function exportPlayers(){
  const data = JSON.stringify(players, null, 2);
  const blob = new Blob([data], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'recall_players.json'; a.click();
  URL.revokeObjectURL(url);
}

/* ---------- INIT ---------- */
(function init(){
  renderCharacters();
  renderMoney();
  buildPlayerHeader();
  // nav buttons already wired inline; also add active class behavior
  $all('.navbtn').forEach(b=>{
    b.addEventListener('click', ()=> {
      $all('.navbtn').forEach(x=>x.classList.remove('active'));
      b.classList.add('active');
    });
  });
  showSection('characters');
})();
</script>
</body>
</html>
